
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cqrs-mediation/">
      
      
        <link rel="next" href="../watcher-reconciliation-patterns/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>Resource Oriented Architecture - Neuroglia Python Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#resource-oriented-architecture-roa" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Neuroglia Python Framework" class="md-header__button md-logo" aria-label="Neuroglia Python Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Neuroglia Python Framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Resource Oriented Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../architecture/" class="md-tabs__link">
        
  
  
    
  
  Architecture

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../dependency-injection/" class="md-tabs__link">
          
  
  
  Features

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../samples/openbank/" class="md-tabs__link">
          
  
  
  Sample Applications

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Neuroglia Python Framework" class="md-nav__button md-logo" aria-label="Neuroglia Python Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Neuroglia Python Framework
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependency-injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dependency Injection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cqrs-mediation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CQRS & Mediation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Resource Oriented Architecture
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Resource Oriented Architecture
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      üéØ Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      üèóÔ∏è Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üèóÔ∏è Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#watcher-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Watcher Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Controller Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reconciliation-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Reconciliation Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      üöÄ Key Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üöÄ Key Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-declarative-state-management" class="md-nav__link">
    <span class="md-ellipsis">
      1. Declarative State Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-event-driven-processing" class="md-nav__link">
    <span class="md-ellipsis">
      2. Event-Driven Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-asynchronous-reconciliation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Asynchronous Reconciliation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-state-machine-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      4. State Machine Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-model" class="md-nav__link">
    <span class="md-ellipsis">
      ‚ö° Execution Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚ö° Execution Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#timing-and-coordination" class="md-nav__link">
    <span class="md-ellipsis">
      Timing and Coordination
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrent-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Concurrent Processing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-and-reliability" class="md-nav__link">
    <span class="md-ellipsis">
      üõ°Ô∏è Safety and Reliability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üõ°Ô∏è Safety and Reliability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#timeout-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Timeout Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      Error Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drift-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Drift Detection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observability" class="md-nav__link">
    <span class="md-ellipsis">
      üìä Observability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üìä Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metrics-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics and Logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Versioning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      üîß Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîß Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tuning-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Tuning Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Scaling Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      üéØ Use Cases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      üîó Related Documentation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../watcher-reconciliation-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Watcher & Reconciliation Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../watcher-reconciliation-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Watcher & Reconciliation Execution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mvc-controllers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MVC Controllers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../event-sourcing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Sourcing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../event-handling.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../object-mapping.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Object Mapping
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hosting.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hosting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../serialization.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Serialization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sample Applications
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Sample Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/openbank/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenBank
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/lab-resource-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Resource Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/api_gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Gateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/desktop_controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Desktop Controller
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      üéØ Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      üèóÔ∏è Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üèóÔ∏è Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#watcher-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Watcher Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Controller Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reconciliation-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Reconciliation Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      üöÄ Key Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üöÄ Key Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-declarative-state-management" class="md-nav__link">
    <span class="md-ellipsis">
      1. Declarative State Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-event-driven-processing" class="md-nav__link">
    <span class="md-ellipsis">
      2. Event-Driven Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-asynchronous-reconciliation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Asynchronous Reconciliation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-state-machine-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      4. State Machine Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-model" class="md-nav__link">
    <span class="md-ellipsis">
      ‚ö° Execution Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚ö° Execution Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#timing-and-coordination" class="md-nav__link">
    <span class="md-ellipsis">
      Timing and Coordination
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrent-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Concurrent Processing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-and-reliability" class="md-nav__link">
    <span class="md-ellipsis">
      üõ°Ô∏è Safety and Reliability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üõ°Ô∏è Safety and Reliability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#timeout-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Timeout Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      Error Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drift-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Drift Detection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observability" class="md-nav__link">
    <span class="md-ellipsis">
      üìä Observability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üìä Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metrics-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics and Logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Versioning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      üîß Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîß Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tuning-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Tuning Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Scaling Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      üéØ Use Cases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      üîó Related Documentation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="resource-oriented-architecture-roa">üéØ Resource Oriented Architecture (ROA)<a class="headerlink" href="#resource-oriented-architecture-roa" title="Permanent link">&para;</a></h1>
<p>Resource Oriented Architecture is a powerful pattern for building systems that manage resources through their lifecycle, similar to how Kubernetes manages cluster resources. Neuroglia provides comprehensive support for ROA patterns including watchers, controllers, and reconciliation loops.</p>
<h2 id="overview">üéØ Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>ROA provides:</p>
<ul>
<li><strong>üìä Resource Management</strong>: Declarative resource definitions with desired vs actual state</li>
<li><strong>üëÄ Watchers</strong>: Continuous monitoring of resource changes through polling or event streams</li>
<li><strong>üéÆ Controllers</strong>: Business logic that responds to resource changes and implements state transitions</li>
<li><strong>üîÑ Reconciliation</strong>: Periodic loops that ensure system consistency and handle drift detection</li>
<li><strong>üõ°Ô∏è Safety Mechanisms</strong>: Timeout handling, error recovery, and corrective actions</li>
</ul>
<h2 id="core-components">üèóÔ∏è Core Components<a class="headerlink" href="#core-components" title="Permanent link">&para;</a></h2>
<h3 id="resource-definition">Resource Definition<a class="headerlink" href="#resource-definition" title="Permanent link">&para;</a></h3>
<p>Resources are declarative objects that define desired state:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">LabInstanceResource</span><span class="p">:</span>
    <span class="n">api_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;lab.neuroglia.com/v1&quot;</span>
    <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;LabInstance&quot;</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">spec</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>      <span class="c1"># Desired state</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>    <span class="c1"># Current state</span>
</code></pre></div>
<h3 id="watcher-pattern">Watcher Pattern<a class="headerlink" href="#watcher-pattern" title="Permanent link">&para;</a></h3>
<p>Watchers continuously monitor resources for changes:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LabInstanceWatcher</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_watching</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="c1"># Poll for changes since last known version</span>
            <span class="n">changes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">list_resources</span><span class="p">(</span><span class="n">since_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">last_resource_version</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">changes</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_resource_change</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>

            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">poll_interval</span><span class="p">)</span>
</code></pre></div>
<h3 id="controller-pattern">Controller Pattern<a class="headerlink" href="#controller-pattern" title="Permanent link">&para;</a></h3>
<p>Controllers respond to resource changes with business logic:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LabInstanceController</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_resource_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">LabInstanceResource</span><span class="p">):</span>
        <span class="n">current_state</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;state&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">current_state</span> <span class="o">==</span> <span class="n">ResourceState</span><span class="o">.</span><span class="n">PENDING</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_provisioning</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">current_state</span> <span class="o">==</span> <span class="n">ResourceState</span><span class="o">.</span><span class="n">PROVISIONING</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_provisioning_status</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
</code></pre></div>
<h3 id="reconciliation-loop">Reconciliation Loop<a class="headerlink" href="#reconciliation-loop" title="Permanent link">&para;</a></h3>
<p>Reconcilers ensure eventual consistency:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LabInstanceScheduler</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_reconciliation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reconcile_all_resources</span><span class="p">()</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reconcile_interval</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_reconcile_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">):</span>
        <span class="c1"># Check for stuck states, timeouts, and drift</span>
        <span class="c1"># Take corrective actions as needed</span>
</code></pre></div>
<h2 id="key-patterns">üöÄ Key Patterns<a class="headerlink" href="#key-patterns" title="Permanent link">&para;</a></h2>
<h3 id="1-declarative-state-management">1. Declarative State Management<a class="headerlink" href="#1-declarative-state-management" title="Permanent link">&para;</a></h3>
<p>Resources define <strong>what</strong> should exist, not <strong>how</strong> to create it:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Desired state (spec)</span>
<span class="n">spec</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;template&#39;</span><span class="p">:</span> <span class="s1">&#39;python-basics&#39;</span><span class="p">,</span>
    <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="s1">&#39;60m&#39;</span><span class="p">,</span>
    <span class="s1">&#39;studentEmail&#39;</span><span class="p">:</span> <span class="s1">&#39;student@example.com&#39;</span>
<span class="p">}</span>

<span class="c1"># Current state (status)</span>
<span class="n">status</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;ready&#39;</span><span class="p">,</span>
    <span class="s1">&#39;endpoint&#39;</span><span class="p">:</span> <span class="s1">&#39;https://lab-instance.example.com&#39;</span><span class="p">,</span>
    <span class="s1">&#39;readyAt&#39;</span><span class="p">:</span> <span class="s1">&#39;2025-09-09T21:34:19Z&#39;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="2-event-driven-processing">2. Event-Driven Processing<a class="headerlink" href="#2-event-driven-processing" title="Permanent link">&para;</a></h3>
<p>Watchers detect changes and notify controllers immediately:</p>
<div class="highlight"><pre><span></span><code>Resource Change ‚Üí Watcher Detection ‚Üí Controller Response ‚Üí State Update
</code></pre></div>
<h3 id="3-asynchronous-reconciliation">3. Asynchronous Reconciliation<a class="headerlink" href="#3-asynchronous-reconciliation" title="Permanent link">&para;</a></h3>
<p>Controllers handle immediate responses while reconcilers provide safety:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Controller: Immediate response to events</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_resource_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">resource</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">PENDING</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_provisioning</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>

<span class="c1"># Reconciler: Periodic safety checks</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">reconcile_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stuck_provisioning</span><span class="p">(</span><span class="n">resource</span><span class="p">):</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">mark_as_failed</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
</code></pre></div>
<h3 id="4-state-machine-implementation">4. State Machine Implementation<a class="headerlink" href="#4-state-machine-implementation" title="Permanent link">&para;</a></h3>
<p>Resources progress through well-defined states:</p>
<div class="highlight"><pre><span></span><code>PENDING ‚Üí PROVISIONING ‚Üí READY ‚Üí (cleanup) ‚Üí DELETING ‚Üí DELETED
    ‚Üì                      ‚Üì
  FAILED              ‚Üê FAILED
</code></pre></div>
<h2 id="execution-model">‚ö° Execution Model<a class="headerlink" href="#execution-model" title="Permanent link">&para;</a></h2>
<h3 id="timing-and-coordination">Timing and Coordination<a class="headerlink" href="#timing-and-coordination" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Watchers</strong>: Poll every 2-5 seconds for near-real-time responsiveness</li>
<li><strong>Controllers</strong>: Respond immediately to detected changes</li>
<li><strong>Reconcilers</strong>: Run every 10-30 seconds for consistency checks</li>
</ul>
<h3 id="concurrent-processing">Concurrent Processing<a class="headerlink" href="#concurrent-processing" title="Permanent link">&para;</a></h3>
<p>All components run concurrently:</p>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># Start all components concurrently</span>
    <span class="n">watcher_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">watcher</span><span class="o">.</span><span class="n">start_watching</span><span class="p">())</span>
    <span class="n">scheduler_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">scheduler</span><span class="o">.</span><span class="n">start_reconciliation</span><span class="p">())</span>

    <span class="c1"># Controllers are event-driven (no separate task needed)</span>
    <span class="n">watcher</span><span class="o">.</span><span class="n">add_event_handler</span><span class="p">(</span><span class="n">controller</span><span class="o">.</span><span class="n">handle_resource_event</span><span class="p">)</span>
</code></pre></div>
<h2 id="safety-and-reliability">üõ°Ô∏è Safety and Reliability<a class="headerlink" href="#safety-and-reliability" title="Permanent link">&para;</a></h2>
<h3 id="timeout-handling">Timeout Handling<a class="headerlink" href="#timeout-handling" title="Permanent link">&para;</a></h3>
<p>Reconcilers detect and handle stuck states:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">resource</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">PROVISIONING</span> <span class="ow">and</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="n">timeout_threshold</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">mark_as_failed</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="s2">&quot;Provisioning timeout&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="error-recovery">Error Recovery<a class="headerlink" href="#error-recovery" title="Permanent link">&para;</a></h3>
<p>Controllers and reconcilers implement retry logic:</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">provision_lab_instance</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">resource</span><span class="o">.</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;retries&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;retries&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">resource</span><span class="o">.</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;retries&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">max_retries</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule_retry</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">mark_as_failed</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></pre></div>
<h3 id="drift-detection">Drift Detection<a class="headerlink" href="#drift-detection" title="Permanent link">&para;</a></h3>
<p>Reconcilers verify that actual state matches desired state:</p>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">check_drift</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">):</span>
    <span class="n">actual_state</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_actual_infrastructure_state</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
    <span class="n">desired_state</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">spec</span>

    <span class="k">if</span> <span class="n">actual_state</span> <span class="o">!=</span> <span class="n">desired_state</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">correct_drift</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="n">actual_state</span><span class="p">,</span> <span class="n">desired_state</span><span class="p">)</span>
</code></pre></div>
<h2 id="observability">üìä Observability<a class="headerlink" href="#observability" title="Permanent link">&para;</a></h2>
<h3 id="metrics-and-logging">Metrics and Logging<a class="headerlink" href="#metrics-and-logging" title="Permanent link">&para;</a></h3>
<p>ROA components provide rich observability:</p>
<div class="highlight"><pre><span></span><code><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üîç Watcher detected change: </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üéÆ Controller processing: </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2"> (state: </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üîÑ Reconciling </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">resources</span><span class="p">)</span><span class="si">}</span><span class="s2"> resources&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ö†Ô∏è Reconciler: Resource stuck: </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="resource-versioning">Resource Versioning<a class="headerlink" href="#resource-versioning" title="Permanent link">&para;</a></h3>
<p>Track changes with resource versions:</p>
<div class="highlight"><pre><span></span><code><span class="n">resource</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;resourceVersion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">next_version</span><span class="p">())</span>
<span class="n">resource</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;lastModified&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</code></pre></div>
<h2 id="configuration">üîß Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<h3 id="tuning-parameters">Tuning Parameters<a class="headerlink" href="#tuning-parameters" title="Permanent link">&para;</a></h3>
<p>Adjust timing for your use case:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Development: Fast feedback</span>
<span class="n">watcher</span> <span class="o">=</span> <span class="n">LabInstanceWatcher</span><span class="p">(</span><span class="n">storage</span><span class="p">,</span> <span class="n">poll_interval</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">scheduler</span> <span class="o">=</span> <span class="n">LabInstanceScheduler</span><span class="p">(</span><span class="n">storage</span><span class="p">,</span> <span class="n">reconcile_interval</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>

<span class="c1"># Production: Balanced performance</span>
<span class="n">watcher</span> <span class="o">=</span> <span class="n">LabInstanceWatcher</span><span class="p">(</span><span class="n">storage</span><span class="p">,</span> <span class="n">poll_interval</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>
<span class="n">scheduler</span> <span class="o">=</span> <span class="n">LabInstanceScheduler</span><span class="p">(</span><span class="n">storage</span><span class="p">,</span> <span class="n">reconcile_interval</span><span class="o">=</span><span class="mf">30.0</span><span class="p">)</span>
</code></pre></div>
<h3 id="scaling-considerations">Scaling Considerations<a class="headerlink" href="#scaling-considerations" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Multiple Watchers</strong>: Use resource sharding for scale</li>
<li><strong>Controller Parallelism</strong>: Process multiple resources concurrently</li>
<li><strong>Reconciler Batching</strong>: Group operations for efficiency</li>
</ul>
<h2 id="use-cases">üéØ Use Cases<a class="headerlink" href="#use-cases" title="Permanent link">&para;</a></h2>
<p>ROA is ideal for:</p>
<ul>
<li><strong>Infrastructure Management</strong>: Cloud resources, containers, services</li>
<li><strong>Workflow Orchestration</strong>: Multi-step processes with dependencies</li>
<li><strong>Resource Lifecycle</strong>: Provisioning, monitoring, cleanup</li>
<li><strong>System Integration</strong>: Managing external system state</li>
<li><strong>DevOps Automation</strong>: CI/CD pipelines, deployment management</li>
</ul>
<h2 id="related-documentation">üîó Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><strong><a href="../watcher-reconciliation-patterns/">üèóÔ∏è Watcher &amp; Reconciliation Patterns</a></strong> - Detailed pattern explanations</li>
<li><strong><a href="../watcher-reconciliation-execution/">‚ö° Execution Flow</a></strong> - How components coordinate</li>
<li><strong><a href="../../samples/lab-resource-manager/">üß™ Lab Resource Manager Sample</a></strong> - Complete ROA implementation</li>
<li><strong><a href="../cqrs-mediation/">üéØ CQRS &amp; Mediation</a></strong> - Command/Query patterns used in ROA</li>
<li><strong><a href="../data-access/">üóÑÔ∏è Data Access</a></strong> - Repository patterns for resource storage</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/bvandewe/pyneuro" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.top", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>