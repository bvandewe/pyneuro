
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../configurable-type-discovery/" rel="prev"/>
<link href="../background-task-scheduling/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.20" name="generator"/>
<title>Object Mapping - Neuroglia Python Framework</title>
<link href="../../assets/stylesheets/main.e53b48f4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="blue" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#object-mapping">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Neuroglia Python Framework" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Neuroglia Python Framework">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Neuroglia Python Framework
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Object Mapping
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../getting-started/">
          
  
  
  Getting Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../mario-pizzeria/">
          
  
  
  Mario's Pizzeria

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../patterns/">
          
  
  
  Patterns

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
  
  Features

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../guides/">
          
  
  
  Guides

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../samples/">
          
  
  
  Samples

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../references/oauth-oidc-jwt/">
          
  
  
  References

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Neuroglia Python Framework" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Neuroglia Python Framework">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    Neuroglia Python Framework
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../guides/3-min-bootstrap/">
<span class="md-ellipsis">
    3-Minute Bootstrap
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../guides/local-development/">
<span class="md-ellipsis">
    Local Development Setup
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../guides/mario-pizzeria-tutorial/">
<span class="md-ellipsis">
    Mario's Pizzeria Tutorial
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Mario's Pizzeria
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Mario's Pizzeria
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../mario-pizzeria/">
<span class="md-ellipsis">
    Case Study Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mario-pizzeria/business-analysis/">
<span class="md-ellipsis">
    Business Analysis
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mario-pizzeria/technical-architecture/">
<span class="md-ellipsis">
    Technical Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mario-pizzeria/domain-design/">
<span class="md-ellipsis">
    Domain Design
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mario-pizzeria/implementation-guide/">
<span class="md-ellipsis">
    Implementation Guide
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mario-pizzeria/testing-deployment/">
<span class="md-ellipsis">
    Testing &amp; Deployment
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Patterns
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Patterns
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/clean-architecture/">
<span class="md-ellipsis">
    Clean Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/domain-driven-design/">
<span class="md-ellipsis">
    Domain Driven Design
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/dependency-injection/">
<span class="md-ellipsis">
    Dependency Injection
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/cqrs/">
<span class="md-ellipsis">
    CQRS &amp; Mediation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/event-driven/">
<span class="md-ellipsis">
    Event-Driven
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/event-sourcing/">
<span class="md-ellipsis">
    Event Sourcing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/reactive-programming/">
<span class="md-ellipsis">
    Reactive Programming
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/repository/">
<span class="md-ellipsis">
    Repository
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/resource-oriented-architecture/">
<span class="md-ellipsis">
    Resource-Oriented Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/watcher-reconciliation-patterns/">
<span class="md-ellipsis">
    Watcher &amp; Reconciliation Patterns
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/watcher-reconciliation-execution/">
<span class="md-ellipsis">
    Watcher &amp; Reconciliation Execution
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
<span class="md-ellipsis">
    Features
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Features
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mvc-controllers/">
<span class="md-ellipsis">
    MVC Controllers
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-access/">
<span class="md-ellipsis">
    Data Access
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../serialization/">
<span class="md-ellipsis">
    Serialization
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configurable-type-discovery/">
<span class="md-ellipsis">
    Configurable Type Discovery
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Object Mapping
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Object Mapping
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      🎯 Overview
    </span>
</a>
<nav aria-label="🎯 Overview" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#key-benefits">
<span class="md-ellipsis">
      Key Benefits
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#architecture-overview">
<span class="md-ellipsis">
      🏗️ Architecture Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-usage-in-marios-pizzeria">
<span class="md-ellipsis">
      🍕 Basic Usage in Mario's Pizzeria
    </span>
</a>
<nav aria-label="🍕 Basic Usage in Mario's Pizzeria" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-to-dto-mapping">
<span class="md-ellipsis">
      Entity to DTO Mapping
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-configurations">
<span class="md-ellipsis">
      🎨 Mapping Configurations
    </span>
</a>
<nav aria-label="🎨 Mapping Configurations" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#convention-based-mapping">
<span class="md-ellipsis">
      Convention-Based Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-member-mapping">
<span class="md-ellipsis">
      Custom Member Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#type-conversion">
<span class="md-ellipsis">
      Type Conversion
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-profiles">
<span class="md-ellipsis">
      📋 Mapping Profiles
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-mapping-patterns">
<span class="md-ellipsis">
      🔧 Advanced Mapping Patterns
    </span>
</a>
<nav aria-label="🔧 Advanced Mapping Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#collection-mapping">
<span class="md-ellipsis">
      Collection Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conditional-mapping">
<span class="md-ellipsis">
      Conditional Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#flattening-complex-objects">
<span class="md-ellipsis">
      Flattening Complex Objects
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-object-mapping">
<span class="md-ellipsis">
      🧪 Testing Object Mapping
    </span>
</a>
<nav aria-label="🧪 Testing Object Mapping" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#unit-testing-patterns">
<span class="md-ellipsis">
      Unit Testing Patterns
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#real-world-use-cases">
<span class="md-ellipsis">
      🎯 Real-World Use Cases
    </span>
</a>
<nav aria-label="🎯 Real-World Use Cases" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-api-controller-integration">
<span class="md-ellipsis">
      1. API Controller Integration
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-commandquery-mapping">
<span class="md-ellipsis">
      2. Command/Query Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-event-data-transformation">
<span class="md-ellipsis">
      3. Event Data Transformation
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-optimization">
<span class="md-ellipsis">
      🔍 Performance Optimization
    </span>
</a>
<nav aria-label="🔍 Performance Optimization" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-performance-tips">
<span class="md-ellipsis">
      Mapping Performance Tips
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-with-other-features">
<span class="md-ellipsis">
      🔄 Integration with Other Features
    </span>
</a>
<nav aria-label="🔄 Integration with Other Features" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-with-serialization">
<span class="md-ellipsis">
      Mapping with Serialization
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependency-injection-integration">
<span class="md-ellipsis">
      🚀 Dependency Injection Integration
    </span>
</a>
<nav aria-label="🚀 Dependency Injection Integration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuring-mapper-in-di-container">
<span class="md-ellipsis">
      Configuring Mapper in DI Container
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-points">
<span class="md-ellipsis">
      🔗 Integration Points
    </span>
</a>
<nav aria-label="🔗 Integration Points" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#framework-integration">
<span class="md-ellipsis">
      Framework Integration
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      📚 Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../background-task-scheduling/">
<span class="md-ellipsis">
    Background Task Scheduling
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../redis-cache-repository/">
<span class="md-ellipsis">
    Redis Cache Repository
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../http-service-client/">
<span class="md-ellipsis">
    HTTP Service Client
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../case-conversion-utilities/">
<span class="md-ellipsis">
    Case Conversion Utilities
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../enhanced-model-validation/">
<span class="md-ellipsis">
    Enhanced Model Validation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mermaid-diagrams/">
<span class="md-ellipsis">
    Mermaid Diagrams
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Guides
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Guides
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../guides/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../guides/project-setup/">
<span class="md-ellipsis">
    Project Setup
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../guides/testing-setup/">
<span class="md-ellipsis">
    Testing Setup
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Samples
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Samples
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/openbank/">
<span class="md-ellipsis">
    OpenBank
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/api_gateway/">
<span class="md-ellipsis">
    API Gateway
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/desktop_controller/">
<span class="md-ellipsis">
    Desktop Controller
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    References
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            References
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../references/oauth-oidc-jwt/">
<span class="md-ellipsis">
    OAuth, OIDC &amp; JWT
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../references/source_code_naming_convention/">
<span class="md-ellipsis">
    Source Code Naming Conventions
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../references/12-factor-app/">
<span class="md-ellipsis">
    12-Factor App
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../references/python_type_hints/">
<span class="md-ellipsis">
    Python Type Hints
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../references/python_modular_code/">
<span class="md-ellipsis">
    Python Modular Code
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../references/python_object_oriented/">
<span class="md-ellipsis">
    Python Object-Oriented Programming
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../references/python_generic_types/">
<span class="md-ellipsis">
    Python Generic Types
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      🎯 Overview
    </span>
</a>
<nav aria-label="🎯 Overview" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#key-benefits">
<span class="md-ellipsis">
      Key Benefits
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#architecture-overview">
<span class="md-ellipsis">
      🏗️ Architecture Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-usage-in-marios-pizzeria">
<span class="md-ellipsis">
      🍕 Basic Usage in Mario's Pizzeria
    </span>
</a>
<nav aria-label="🍕 Basic Usage in Mario's Pizzeria" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#entity-to-dto-mapping">
<span class="md-ellipsis">
      Entity to DTO Mapping
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-configurations">
<span class="md-ellipsis">
      🎨 Mapping Configurations
    </span>
</a>
<nav aria-label="🎨 Mapping Configurations" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#convention-based-mapping">
<span class="md-ellipsis">
      Convention-Based Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-member-mapping">
<span class="md-ellipsis">
      Custom Member Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#type-conversion">
<span class="md-ellipsis">
      Type Conversion
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-profiles">
<span class="md-ellipsis">
      📋 Mapping Profiles
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-mapping-patterns">
<span class="md-ellipsis">
      🔧 Advanced Mapping Patterns
    </span>
</a>
<nav aria-label="🔧 Advanced Mapping Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#collection-mapping">
<span class="md-ellipsis">
      Collection Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conditional-mapping">
<span class="md-ellipsis">
      Conditional Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#flattening-complex-objects">
<span class="md-ellipsis">
      Flattening Complex Objects
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-object-mapping">
<span class="md-ellipsis">
      🧪 Testing Object Mapping
    </span>
</a>
<nav aria-label="🧪 Testing Object Mapping" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#unit-testing-patterns">
<span class="md-ellipsis">
      Unit Testing Patterns
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#real-world-use-cases">
<span class="md-ellipsis">
      🎯 Real-World Use Cases
    </span>
</a>
<nav aria-label="🎯 Real-World Use Cases" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-api-controller-integration">
<span class="md-ellipsis">
      1. API Controller Integration
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-commandquery-mapping">
<span class="md-ellipsis">
      2. Command/Query Mapping
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-event-data-transformation">
<span class="md-ellipsis">
      3. Event Data Transformation
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-optimization">
<span class="md-ellipsis">
      🔍 Performance Optimization
    </span>
</a>
<nav aria-label="🔍 Performance Optimization" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-performance-tips">
<span class="md-ellipsis">
      Mapping Performance Tips
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-with-other-features">
<span class="md-ellipsis">
      🔄 Integration with Other Features
    </span>
</a>
<nav aria-label="🔄 Integration with Other Features" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-with-serialization">
<span class="md-ellipsis">
      Mapping with Serialization
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependency-injection-integration">
<span class="md-ellipsis">
      🚀 Dependency Injection Integration
    </span>
</a>
<nav aria-label="🚀 Dependency Injection Integration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuring-mapper-in-di-container">
<span class="md-ellipsis">
      Configuring Mapper in DI Container
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-points">
<span class="md-ellipsis">
      🔗 Integration Points
    </span>
</a>
<nav aria-label="🔗 Integration Points" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#framework-integration">
<span class="md-ellipsis">
      Framework Integration
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      📚 Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="object-mapping">🎯 Object Mapping<a class="headerlink" href="#object-mapping" title="Permanent link">¶</a></h1>
<p>Neuroglia's object mapping system provides powerful and flexible capabilities for transforming objects between types. Whether converting domain entities to DTOs, mapping API requests to commands, or transforming data between layers, the Mapper class handles complex object-to-object conversions with ease.</p>
<p>!!! info "🎯 What You'll Learn" - Automatic property mapping with convention-based matching - Custom mapping configurations and transformations - Type conversion and validation - Integration with Mario's Pizzeria domain objects</p>
<h2 id="overview">🎯 Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>Neuroglia's mapping system offers:</p>
<ul>
<li><strong>🔄 Automatic Mapping</strong> - Convention-based property matching with intelligent type conversion</li>
<li><strong>🎨 Custom Configurations</strong> - Fine-grained control over property mappings and transformations</li>
<li><strong>📋 Mapping Profiles</strong> - Reusable mapping configurations organized in profiles</li>
<li><strong>🔧 Type Conversion</strong> - Built-in converters for common type transformations</li>
<li><strong>💉 DI Integration</strong> - Service-based mapper with configurable profiles</li>
</ul>
<h3 id="key-benefits">Key Benefits<a class="headerlink" href="#key-benefits" title="Permanent link">¶</a></h3>
<ul>
<li><strong>Productivity</strong>: Eliminate repetitive mapping code with automatic conventions</li>
<li><strong>Type Safety</strong>: Strongly-typed mappings with compile-time validation</li>
<li><strong>Flexibility</strong>: Custom transformations for complex mapping scenarios</li>
<li><strong>Testability</strong>: Easy mocking and testing of mapping logic</li>
<li><strong>Performance</strong>: Efficient mapping with minimal reflection overhead</li>
</ul>
<h2 id="architecture-overview">🏗️ Architecture Overview<a class="headerlink" href="#architecture-overview" title="Permanent link">¶</a></h2>
<pre class="mermaid"><code>flowchart TD
    A["🎯 Source Object&lt;br/&gt;Domain Entity"]
    B["🔄 Mapper&lt;br/&gt;Main Mapping Service"]
    C["📋 Mapping Profiles&lt;br/&gt;Configuration Sets"]
    D["🎨 Type Converters&lt;br/&gt;Custom Transformations"]

    subgraph "🔧 Mapping Pipeline"
        E["Property Matching"]
        F["Type Conversion"]
        G["Custom Logic"]
        H["Validation"]
    end

    subgraph "🎯 Target Types"
        I["DTOs"]
        J["Commands"]
        K["View Models"]
        L["API Responses"]
    end

    A --&gt; B
    B --&gt; C
    B --&gt; D
    B --&gt; E
    E --&gt; F
    F --&gt; G
    G --&gt; H

    H --&gt; I
    H --&gt; J
    H --&gt; K
    H --&gt; L

    style B fill:#e1f5fe,stroke:#0277bd,stroke-width:3px
    style C fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style D fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px

    classDef pipeline fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    class E,F,G,H pipeline

    classDef targets fill:#e3f2fd,stroke:#1976d2,stroke-width:1px
    class I,J,K,L targets</code></pre>
<h2 id="basic-usage-in-marios-pizzeria">🍕 Basic Usage in Mario's Pizzeria<a class="headerlink" href="#basic-usage-in-marios-pizzeria" title="Permanent link">¶</a></h2>
<h3 id="entity-to-dto-mapping">Entity to DTO Mapping<a class="headerlink" href="#entity-to-dto-mapping" title="Permanent link">¶</a></h3>
<p>Let's see how Mario's Pizzeria uses mapping for API responses:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">neuroglia.mapping.mapper</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mapper</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span>

<span class="c1"># Domain Entities</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderStatus</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="n">PENDING</span> <span class="o">=</span> <span class="s2">"pending"</span>
    <span class="n">COOKING</span> <span class="o">=</span> <span class="s2">"cooking"</span>
    <span class="n">READY</span> <span class="o">=</span> <span class="s2">"ready"</span>
    <span class="n">DELIVERED</span> <span class="o">=</span> <span class="s2">"delivered"</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Pizza</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">base_price</span><span class="p">:</span> <span class="n">Decimal</span>
    <span class="n">toppings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">preparation_time_minutes</span><span class="p">:</span> <span class="nb">int</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">total_price</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_price</span> <span class="o">+</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">"1.50"</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toppings</span><span class="p">))</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Order</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer_phone</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">pizzas</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Pizza</span><span class="p">]</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">OrderStatus</span>
    <span class="n">order_time</span><span class="p">:</span> <span class="n">datetime</span>
    <span class="n">estimated_ready_time</span><span class="p">:</span> <span class="n">datetime</span>
    <span class="n">total_amount</span><span class="p">:</span> <span class="n">Decimal</span>

<span class="c1"># DTOs for API responses</span>
<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">PizzaDto</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">price</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># String representation for API</span>
    <span class="n">toppings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">prep_time</span><span class="p">:</span> <span class="nb">int</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderDto</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Different property name</span>
    <span class="n">phone</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PizzaDto</span><span class="p">]</span>  <span class="c1"># Different property name</span>
    <span class="n">status</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">ordered_at</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># ISO string format</span>
    <span class="n">ready_at</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">total</span><span class="p">:</span> <span class="nb">str</span>

<span class="c1"># Using the Mapper</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderService</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapper</span><span class="p">:</span> <span class="n">Mapper</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">mapper</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_order_dto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">:</span> <span class="n">Order</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OrderDto</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Convert domain order to API DTO"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pizza_dto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pizza</span><span class="p">:</span> <span class="n">Pizza</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PizzaDto</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Convert domain pizza to API DTO"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">pizza</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span>

<span class="c1"># Example usage</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">Mapper</span><span class="p">()</span>

<span class="c1"># Configure mapping between Order and OrderDto</span>
<span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"customer"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">customer_name</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"phone"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">customer_phone</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"items"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="p">[</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">pizzas</span><span class="p">])</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"ordered_at"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">order_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">())</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"ready_at"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">estimated_ready_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">())</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"total"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">total_amount</span><span class="p">))</span>

<span class="c1"># Configure mapping between Pizza and PizzaDto</span>
<span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Pizza</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"price"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">total_price</span><span class="p">))</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"prep_time"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">preparation_time_minutes</span><span class="p">)</span>

<span class="c1"># Map objects</span>
<span class="n">order</span> <span class="o">=</span> <span class="n">create_sample_order</span><span class="p">()</span>
<span class="n">order_dto</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Order </span><span class="si">{</span><span class="n">order_dto</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> for </span><span class="si">{</span><span class="n">order_dto</span><span class="o">.</span><span class="n">customer</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># Output: Order order-123 for Mario Luigi</span>
</code></pre></div>
<h2 id="mapping-configurations">🎨 Mapping Configurations<a class="headerlink" href="#mapping-configurations" title="Permanent link">¶</a></h2>
<h3 id="convention-based-mapping">Convention-Based Mapping<a class="headerlink" href="#convention-based-mapping" title="Permanent link">¶</a></h3>
<p>The mapper automatically matches properties with the same names:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Customer</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">phone</span><span class="p">:</span> <span class="nb">str</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomerDto</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>      <span class="c1"># Automatically mapped</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>    <span class="c1"># Automatically mapped</span>
    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>   <span class="c1"># Automatically mapped</span>
    <span class="n">phone</span><span class="p">:</span> <span class="nb">str</span>   <span class="c1"># Automatically mapped</span>

<span class="c1"># Simple mapping - no configuration needed</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">Mapper</span><span class="p">()</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">"123"</span><span class="p">,</span> <span class="s2">"Luigi Mario"</span><span class="p">,</span> <span class="s2">"luigi@pizzeria.com"</span><span class="p">,</span> <span class="s2">"+1-555-LUIGI"</span><span class="p">)</span>
<span class="n">customer_dto</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">customer</span><span class="p">,</span> <span class="n">CustomerDto</span><span class="p">)</span>
</code></pre></div>
<h3 id="custom-member-mapping">Custom Member Mapping<a class="headerlink" href="#custom-member-mapping" title="Permanent link">¶</a></h3>
<p>For properties that don't match by name or need transformation:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Address</span><span class="p">:</span>
    <span class="n">street_address</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">city_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">postal_code</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">country_name</span><span class="p">:</span> <span class="nb">str</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AddressDto</span><span class="p">:</span>
    <span class="n">address_line</span><span class="p">:</span> <span class="nb">str</span>    <span class="c1"># Combined field</span>
    <span class="n">city</span><span class="p">:</span> <span class="nb">str</span>           <span class="c1"># Different name</span>
    <span class="n">zip_code</span><span class="p">:</span> <span class="nb">str</span>       <span class="c1"># Different name</span>
    <span class="n">country</span><span class="p">:</span> <span class="nb">str</span>        <span class="c1"># Different name</span>

<span class="c1"># Configure custom mappings</span>
<span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Address</span><span class="p">,</span> <span class="n">AddressDto</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"address_line"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">street_address</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"city"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">city_name</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"zip_code"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">postal_code</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"country"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">country_name</span><span class="p">)</span>
</code></pre></div>
<h3 id="type-conversion">Type Conversion<a class="headerlink" href="#type-conversion" title="Permanent link">¶</a></h3>
<p>Automatic conversion between compatible types:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MenuItem</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">price</span><span class="p">:</span> <span class="n">Decimal</span>       <span class="c1"># Decimal type</span>
    <span class="n">available</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">category_id</span><span class="p">:</span> <span class="nb">int</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MenuItemDto</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">price</span><span class="p">:</span> <span class="nb">float</span>         <span class="c1"># Converted to float</span>
    <span class="n">available</span><span class="p">:</span> <span class="nb">str</span>       <span class="c1"># Converted to string</span>
    <span class="n">category_id</span><span class="p">:</span> <span class="nb">str</span>     <span class="c1"># Converted to string</span>

<span class="c1"># Automatic type conversion</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">Mapper</span><span class="p">()</span>
<span class="n">item</span> <span class="o">=</span> <span class="n">MenuItem</span><span class="p">(</span><span class="s2">"Margherita"</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">"15.99"</span><span class="p">),</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">item_dto</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">MenuItemDto</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">item_dto</span><span class="o">.</span><span class="n">price</span> <span class="o">==</span> <span class="mf">15.99</span>
<span class="k">assert</span> <span class="n">item_dto</span><span class="o">.</span><span class="n">available</span> <span class="o">==</span> <span class="s2">"True"</span>
<span class="k">assert</span> <span class="n">item_dto</span><span class="o">.</span><span class="n">category_id</span> <span class="o">==</span> <span class="s2">"1"</span>
</code></pre></div>
<h2 id="mapping-profiles">📋 Mapping Profiles<a class="headerlink" href="#mapping-profiles" title="Permanent link">¶</a></h2>
<p>Organize related mappings in reusable profiles:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">neuroglia.mapping.mapper</span><span class="w"> </span><span class="kn">import</span> <span class="n">MappingProfile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PizzeriaMappingProfile</span><span class="p">(</span><span class="n">MappingProfile</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Mapping profile for Mario's Pizzeria domain objects"""</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Order mappings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"customer"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">customer_name</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"phone"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">customer_phone</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"items"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">map_list</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">pizzas</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">))</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"ordered_at"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">order_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">())</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"total"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">total_amount</span><span class="p">))</span>

        <span class="c1"># Pizza mappings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Pizza</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"price"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">total_price</span><span class="p">))</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"prep_time"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">preparation_time_minutes</span><span class="p">)</span>

        <span class="c1"># Customer mappings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">CustomerDto</span><span class="p">)</span>  <span class="c1"># Convention-based</span>

        <span class="c1"># Address mappings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Address</span><span class="p">,</span> <span class="n">AddressDto</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"address_line"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">street_address</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"city"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">city_name</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"zip_code"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">postal_code</span><span class="p">)</span>

<span class="c1"># Register profile with mapper</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">Mapper</span><span class="p">()</span>
<span class="n">mapper</span><span class="o">.</span><span class="n">add_profile</span><span class="p">(</span><span class="n">PizzeriaMappingProfile</span><span class="p">())</span>
</code></pre></div>
<h2 id="advanced-mapping-patterns">🔧 Advanced Mapping Patterns<a class="headerlink" href="#advanced-mapping-patterns" title="Permanent link">¶</a></h2>
<h3 id="collection-mapping">Collection Mapping<a class="headerlink" href="#collection-mapping" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Menu</span><span class="p">:</span>
    <span class="n">sections</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">MenuSection</span><span class="p">]</span>
    <span class="n">featured_items</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Pizza</span><span class="p">]</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MenuDto</span><span class="p">:</span>
    <span class="n">sections</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">MenuSectionDto</span><span class="p">]</span>
    <span class="n">featured</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">]</span>

<span class="c1"># Configure collection mappings</span>
<span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Menu</span><span class="p">,</span> <span class="n">MenuDto</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"sections"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">map_list</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">sections</span><span class="p">,</span> <span class="n">MenuSectionDto</span><span class="p">))</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"featured"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">featured_items</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">})</span>
</code></pre></div>
<h3 id="conditional-mapping">Conditional Mapping<a class="headerlink" href="#conditional-mapping" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderSummaryDto</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">status</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">total</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">special_instructions</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Only for certain statuses</span>

<span class="c1"># Conditional member mapping</span>
<span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Order</span><span class="p">,</span> <span class="n">OrderSummaryDto</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"special_instructions"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="s1">'special_instructions'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="n">OrderStatus</span><span class="o">.</span><span class="n">COOKING</span><span class="p">,</span> <span class="n">OrderStatus</span><span class="o">.</span><span class="n">READY</span><span class="p">]</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
</code></pre></div>
<h3 id="flattening-complex-objects">Flattening Complex Objects<a class="headerlink" href="#flattening-complex-objects" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderWithCustomer</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer</span><span class="p">:</span> <span class="n">Customer</span>
    <span class="n">pizzas</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Pizza</span><span class="p">]</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">OrderStatus</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FlatOrderDto</span><span class="p">:</span>
    <span class="n">order_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer_name</span><span class="p">:</span> <span class="nb">str</span>      <span class="c1"># Flattened from customer</span>
    <span class="n">customer_email</span><span class="p">:</span> <span class="nb">str</span>     <span class="c1"># Flattened from customer</span>
    <span class="n">pizza_count</span><span class="p">:</span> <span class="nb">int</span>        <span class="c1"># Computed field</span>
    <span class="n">status</span><span class="p">:</span> <span class="nb">str</span>

<span class="c1"># Flattening mapping</span>
<span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">OrderWithCustomer</span><span class="p">,</span> <span class="n">FlatOrderDto</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"order_id"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"customer_name"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">customer</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"customer_email"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">customer</span><span class="o">.</span><span class="n">email</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"pizza_count"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">pizzas</span><span class="p">))</span>
</code></pre></div>
<h2 id="testing-object-mapping">🧪 Testing Object Mapping<a class="headerlink" href="#testing-object-mapping" title="Permanent link">¶</a></h2>
<h3 id="unit-testing-patterns">Unit Testing Patterns<a class="headerlink" href="#unit-testing-patterns" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">neuroglia.mapping.mapper</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mapper</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TestPizzeriaMapping</span><span class="p">:</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">setup_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">Mapper</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">add_profile</span><span class="p">(</span><span class="n">PizzeriaMappingProfile</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_pizza_to_dto_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Test Pizza to PizzaDto mapping"""</span>
        <span class="c1"># Arrange</span>
        <span class="n">pizza</span> <span class="o">=</span> <span class="n">Pizza</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">"pizza-123"</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"Margherita"</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="s2">"large"</span><span class="p">,</span>
            <span class="n">base_price</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">"15.99"</span><span class="p">),</span>
            <span class="n">toppings</span><span class="o">=</span><span class="p">[</span><span class="s2">"basil"</span><span class="p">,</span> <span class="s2">"mozzarella"</span><span class="p">],</span>
            <span class="n">preparation_time_minutes</span><span class="o">=</span><span class="mi">18</span>
        <span class="p">)</span>

        <span class="c1"># Act</span>
        <span class="n">pizza_dto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">pizza</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span>

        <span class="c1"># Assert</span>
        <span class="k">assert</span> <span class="n">pizza_dto</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="s2">"pizza-123"</span>
        <span class="k">assert</span> <span class="n">pizza_dto</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"Margherita"</span>
        <span class="k">assert</span> <span class="n">pizza_dto</span><span class="o">.</span><span class="n">price</span> <span class="o">==</span> <span class="s2">"18.99"</span>  <span class="c1"># base_price + toppings</span>
        <span class="k">assert</span> <span class="n">pizza_dto</span><span class="o">.</span><span class="n">prep_time</span> <span class="o">==</span> <span class="mi">18</span>
        <span class="k">assert</span> <span class="n">pizza_dto</span><span class="o">.</span><span class="n">toppings</span> <span class="o">==</span> <span class="p">[</span><span class="s2">"basil"</span><span class="p">,</span> <span class="s2">"mozzarella"</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_order_to_dto_mapping_preserves_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Test complex Order to OrderDto mapping"""</span>
        <span class="c1"># Arrange</span>
        <span class="n">order</span> <span class="o">=</span> <span class="n">create_sample_order_with_multiple_pizzas</span><span class="p">()</span>

        <span class="c1"># Act</span>
        <span class="n">order_dto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>

        <span class="c1"># Assert</span>
        <span class="k">assert</span> <span class="n">order_dto</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">order</span><span class="o">.</span><span class="n">id</span>
        <span class="k">assert</span> <span class="n">order_dto</span><span class="o">.</span><span class="n">customer</span> <span class="o">==</span> <span class="n">order</span><span class="o">.</span><span class="n">customer_name</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">order_dto</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="o">.</span><span class="n">pizzas</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">order_dto</span><span class="o">.</span><span class="n">total</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">order</span><span class="o">.</span><span class="n">total_amount</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_mapping_handles_none_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Test mapping with None values"""</span>
        <span class="c1"># Arrange</span>
        <span class="n">customer</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">"123"</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"Test Customer"</span><span class="p">,</span>
            <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># None value</span>
            <span class="n">phone</span><span class="o">=</span><span class="s2">"+1-555-TEST"</span>
        <span class="p">)</span>

        <span class="c1"># Act</span>
        <span class="n">customer_dto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">customer</span><span class="p">,</span> <span class="n">CustomerDto</span><span class="p">)</span>

        <span class="c1"># Assert</span>
        <span class="k">assert</span> <span class="n">customer_dto</span><span class="o">.</span><span class="n">email</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">customer_dto</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"Test Customer"</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_collection_mapping_preserves_order</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Test that collection mapping preserves order"""</span>
        <span class="c1"># Arrange</span>
        <span class="n">pizzas</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">create_pizza</span><span class="p">(</span><span class="s2">"Margherita"</span><span class="p">),</span>
            <span class="n">create_pizza</span><span class="p">(</span><span class="s2">"Pepperoni"</span><span class="p">),</span>
            <span class="n">create_pizza</span><span class="p">(</span><span class="s2">"Hawaiian"</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="c1"># Act</span>
        <span class="n">pizza_dtos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map_list</span><span class="p">(</span><span class="n">pizzas</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span>

        <span class="c1"># Assert</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">pizza_dtos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
        <span class="k">assert</span> <span class="n">pizza_dtos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"Margherita"</span>
        <span class="k">assert</span> <span class="n">pizza_dtos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"Pepperoni"</span>
        <span class="k">assert</span> <span class="n">pizza_dtos</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"Hawaiian"</span>
</code></pre></div>
<h2 id="real-world-use-cases">🎯 Real-World Use Cases<a class="headerlink" href="#real-world-use-cases" title="Permanent link">¶</a></h2>
<h3 id="1-api-controller-integration">1. API Controller Integration<a class="headerlink" href="#1-api-controller-integration" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">neuroglia.mvc</span><span class="w"> </span><span class="kn">import</span> <span class="n">ControllerBase</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">HTTPException</span>

<span class="k">class</span><span class="w"> </span><span class="nc">OrdersController</span><span class="p">(</span><span class="n">ControllerBase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">service_provider</span><span class="p">:</span> <span class="n">ServiceProviderBase</span><span class="p">,</span>
                 <span class="n">mapper</span><span class="p">:</span> <span class="n">Mapper</span><span class="p">,</span>
                 <span class="n">mediator</span><span class="p">:</span> <span class="n">Mediator</span><span class="p">,</span>
                 <span class="n">order_service</span><span class="p">:</span> <span class="n">OrderService</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">service_provider</span><span class="p">,</span> <span class="n">mapper</span><span class="p">,</span> <span class="n">mediator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order_service</span> <span class="o">=</span> <span class="n">order_service</span>

    <span class="nd">@get</span><span class="p">(</span><span class="s2">"/</span><span class="si">{order_id}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OrderDto</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Get order by ID with automatic DTO mapping"""</span>
        <span class="n">order</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_service</span><span class="o">.</span><span class="n">get_by_id_async</span><span class="p">(</span><span class="n">order_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">order</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">"Order not found"</span><span class="p">)</span>

        <span class="c1"># Map domain entity to DTO</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>

    <span class="nd">@post</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">create_order_request</span><span class="p">:</span> <span class="n">CreateOrderRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OrderDto</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Create new order with request mapping"""</span>
        <span class="c1"># Map request to command</span>
        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">create_order_request</span><span class="p">,</span> <span class="n">CreateOrderCommand</span><span class="p">)</span>

        <span class="c1"># Execute command</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">mediator</span><span class="o">.</span><span class="n">execute_async</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="o">.</span><span class="n">is_success</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">error_message</span><span class="p">)</span>

        <span class="c1"># Map result to DTO</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>
</code></pre></div>
<h3 id="2-commandquery-mapping">2. Command/Query Mapping<a class="headerlink" href="#2-commandquery-mapping" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">neuroglia.mediation</span><span class="w"> </span><span class="kn">import</span> <span class="n">Command</span><span class="p">,</span> <span class="n">CommandHandler</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CreateOrderRequest</span><span class="p">:</span>
    <span class="n">customer_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer_phone</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">pizza_requests</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PizzaRequest</span><span class="p">]</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CreateOrderCommand</span><span class="p">(</span><span class="n">Command</span><span class="p">[</span><span class="n">Order</span><span class="p">]):</span>
    <span class="n">customer_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer_phone</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">pizza_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PizzaOrderItem</span><span class="p">]</span>

<span class="c1"># Map request to command</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderMappingProfile</span><span class="p">(</span><span class="n">MappingProfile</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">CreateOrderRequest</span><span class="p">,</span> <span class="n">CreateOrderCommand</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">map_member</span><span class="p">(</span><span class="s2">"pizza_items"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">PizzaOrderItem</span><span class="p">)</span> <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">ctx</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">pizza_requests</span><span class="p">]</span>
            <span class="p">)</span>
</code></pre></div>
<h3 id="3-event-data-transformation">3. Event Data Transformation<a class="headerlink" href="#3-event-data-transformation" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">neuroglia.eventing</span><span class="w"> </span><span class="kn">import</span> <span class="n">DomainEvent</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OrderStatusChangedEvent</span><span class="p">(</span><span class="n">DomainEvent</span><span class="p">):</span>
    <span class="n">order_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">old_status</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">new_status</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">customer_email</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">notification_data</span><span class="p">:</span> <span class="nb">dict</span>

<span class="k">class</span><span class="w"> </span><span class="nc">OrderEventService</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapper</span><span class="p">:</span> <span class="n">Mapper</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">mapper</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_status_change_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">:</span> <span class="n">Order</span><span class="p">,</span> <span class="n">old_status</span><span class="p">:</span> <span class="n">OrderStatus</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OrderStatusChangedEvent</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Create event with mapped data"""</span>

        <span class="c1"># Map order data to event notification data</span>
        <span class="n">notification_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">"order_summary"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">OrderSummaryDto</span><span class="p">),</span>
            <span class="s2">"estimated_time"</span><span class="p">:</span> <span class="n">order</span><span class="o">.</span><span class="n">estimated_ready_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s2">"total_amount"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">order</span><span class="o">.</span><span class="n">total_amount</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">OrderStatusChangedEvent</span><span class="p">(</span>
            <span class="n">order_id</span><span class="o">=</span><span class="n">order</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">old_status</span><span class="o">=</span><span class="n">old_status</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">new_status</span><span class="o">=</span><span class="n">order</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">customer_email</span><span class="o">=</span><span class="n">order</span><span class="o">.</span><span class="n">customer</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
            <span class="n">notification_data</span><span class="o">=</span><span class="n">notification_data</span>
        <span class="p">)</span>
</code></pre></div>
<h2 id="performance-optimization">🔍 Performance Optimization<a class="headerlink" href="#performance-optimization" title="Permanent link">¶</a></h2>
<h3 id="mapping-performance-tips">Mapping Performance Tips<a class="headerlink" href="#mapping-performance-tips" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OptimizedMappingService</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapper</span><span class="p">:</span> <span class="n">Mapper</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">mapper</span>
        <span class="c1"># Pre-compile mappings for better performance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_mappings</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_mappings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Pre-configure frequently used mappings"""</span>
        <span class="c1"># Frequently used mappings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Pizza</span><span class="p">,</span> <span class="n">PizzaDto</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">create_map</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">CustomerDto</span><span class="p">)</span>

        <span class="c1"># Warm up mapper with sample objects</span>
        <span class="n">sample_order</span> <span class="o">=</span> <span class="n">create_sample_order</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sample_order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bulk_map_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orders</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Order</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">OrderDto</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">"""Efficiently map large collections"""</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span> <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">orders</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">map_with_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Map with result caching for immutable objects"""</span>
        <span class="n">cache_key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="nb">hash</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>

        <span class="k">if</span> <span class="n">cache_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span>
</code></pre></div>
<h2 id="integration-with-other-features">🔄 Integration with Other Features<a class="headerlink" href="#integration-with-other-features" title="Permanent link">¶</a></h2>
<h3 id="mapping-with-serialization">Mapping with Serialization<a class="headerlink" href="#mapping-with-serialization" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OrderApiService</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapper</span><span class="p">:</span> <span class="n">Mapper</span><span class="p">,</span> <span class="n">serializer</span><span class="p">:</span> <span class="n">JsonSerializer</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">mapper</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serializer</span> <span class="o">=</span> <span class="n">serializer</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_orders_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orders</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Order</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Export orders as JSON with DTO mapping"""</span>
        <span class="c1"># Map to DTOs first</span>
        <span class="n">order_dtos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map_list</span><span class="p">(</span><span class="n">orders</span><span class="p">,</span> <span class="n">OrderDto</span><span class="p">)</span>

        <span class="c1"># Then serialize</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">serializer</span><span class="o">.</span><span class="n">serialize_to_text</span><span class="p">(</span><span class="n">order_dtos</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_orders_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_data</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Order</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">"""Import orders from JSON with DTO mapping"""</span>
        <span class="c1"># Deserialize to DTOs</span>
        <span class="n">order_dtos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">serializer</span><span class="o">.</span><span class="n">deserialize_from_text</span><span class="p">(</span><span class="n">json_data</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">OrderDto</span><span class="p">])</span>

        <span class="c1"># Map to domain entities</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">map_list</span><span class="p">(</span><span class="n">order_dtos</span><span class="p">,</span> <span class="n">Order</span><span class="p">)</span>
</code></pre></div>
<h2 id="dependency-injection-integration">🚀 Dependency Injection Integration<a class="headerlink" href="#dependency-injection-integration" title="Permanent link">¶</a></h2>
<h3 id="configuring-mapper-in-di-container">Configuring Mapper in DI Container<a class="headerlink" href="#configuring-mapper-in-di-container" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">neuroglia.hosting</span><span class="w"> </span><span class="kn">import</span> <span class="n">WebApplicationBuilder</span>

<span class="k">def</span><span class="w"> </span><span class="nf">configure_mapping</span><span class="p">(</span><span class="n">builder</span><span class="p">:</span> <span class="n">WebApplicationBuilder</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Configure object mapping services"""</span>

    <span class="c1"># Register mapper as singleton</span>
    <span class="n">mapper</span> <span class="o">=</span> <span class="n">Mapper</span><span class="p">()</span>

    <span class="c1"># Add mapping profiles</span>
    <span class="n">mapper</span><span class="o">.</span><span class="n">add_profile</span><span class="p">(</span><span class="n">PizzeriaMappingProfile</span><span class="p">())</span>
    <span class="n">mapper</span><span class="o">.</span><span class="n">add_profile</span><span class="p">(</span><span class="n">CustomerMappingProfile</span><span class="p">())</span>
    <span class="n">mapper</span><span class="o">.</span><span class="n">add_profile</span><span class="p">(</span><span class="n">EventMappingProfile</span><span class="p">())</span>

    <span class="n">builder</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">add_singleton</span><span class="p">(</span><span class="n">Mapper</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">mapper</span><span class="p">)</span>

    <span class="c1"># Register mapping services</span>
    <span class="n">builder</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">add_scoped</span><span class="p">(</span><span class="n">OrderMappingService</span><span class="p">)</span>
    <span class="n">builder</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">add_scoped</span><span class="p">(</span><span class="n">CustomerMappingService</span><span class="p">)</span>

<span class="c1"># Usage in controllers</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MenuController</span><span class="p">(</span><span class="n">ControllerBase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">service_provider</span><span class="p">:</span> <span class="n">ServiceProviderBase</span><span class="p">,</span>
                 <span class="n">mapper</span><span class="p">:</span> <span class="n">Mapper</span><span class="p">,</span>  <span class="c1"># Injected automatically</span>
                 <span class="n">mediator</span><span class="p">:</span> <span class="n">Mediator</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">service_provider</span><span class="p">,</span> <span class="n">mapper</span><span class="p">,</span> <span class="n">mediator</span><span class="p">)</span>
</code></pre></div>
<h2 id="integration-points">🔗 Integration Points<a class="headerlink" href="#integration-points" title="Permanent link">¶</a></h2>
<h3 id="framework-integration">Framework Integration<a class="headerlink" href="#framework-integration" title="Permanent link">¶</a></h3>
<p>Object mapping integrates seamlessly with:</p>
<ul>
<li><strong><a href="../serialization/">Serialization</a></strong> - Map objects before serialization/after deserialization</li>
<li><strong><a href="cqrs-mediation.md">CQRS &amp; Mediation</a></strong> - Map requests to commands and queries</li>
<li><strong><a href="../mvc-controllers/">MVC Controllers</a></strong> - Automatic request/response mapping</li>
<li><strong><a href="event-sourcing.md">Event Sourcing</a></strong> - Transform domain events to external formats</li>
</ul>
<h2 id="next-steps">📚 Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">¶</a></h2>
<p>Explore related Neuroglia features:</p>
<ul>
<li><strong><a href="../serialization/">Serialization</a></strong> - Convert mapped objects to JSON</li>
<li><strong><a href="cqrs-mediation.md">CQRS &amp; Mediation</a></strong> - Use mapping in command/query handlers</li>
<li><strong><a href="../mvc-controllers/">MVC Controllers</a></strong> - Automatic API object mapping</li>
<li><strong><a href="../../guides/mario-pizzeria-tutorial/">Getting Started Guide</a></strong> - Complete pizzeria implementation</li>
</ul>
<hr/>
<div class="admonition tip">
<p class="admonition-title">🎯 Best Practice</p>
</div>
<p>Organize related mappings in profiles and register the Mapper as a singleton in your DI container for optimal performance and maintainability.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/bvandewe/pyneuro" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.top", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
</body>
</html>